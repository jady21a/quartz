
## ä¹¦ç±å…ƒæ•°æ®å±•ç¤º
obsidianä¸­çš„mdæ–‡æ¡£å…ƒæ•°æ®å±•ç¤ºåœ¨quartzä¸­

### 1. ç¡®ä¿ Frontmatter æ ¼å¼æ­£ç¡®
å¦‚:
```yaml
---
title: ä¹¦å
author: ä½œè€…
rating: 5
status: å·²è¯»
---
```

### 2. é…ç½® Quartz æ˜¾ç¤º Frontmatter
- åœ¨`quartz/components/`ä¸­,åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶`BookInfo.tsx`
```tsx
import { QuartzComponent, QuartzComponentConstructor, QuartzComponentProps } from "./types"

  

const BookInfo: QuartzComponent = ({ fileData }: QuartzComponentProps) => {

const fm = fileData.frontmatter

if (!fm) return null

// ä¸¥æ ¼åˆ¤æ–­ï¼šåªæ˜¾ç¤º tags åŒ…å« "book" çš„é¡µé¢

const isBook = fm.tags && Array.isArray(fm.tags) && fm.tags.includes('book')

// å¦‚æœä¸æ˜¯ä¹¦ç±é¡µé¢,ä¸æ˜¾ç¤ºä»»ä½•å†…å®¹

if (!isBook) return null

const getImageUrl = (url: string): string => {

if (url.startsWith('http://') || url.startsWith('https://')) {

return `https://images.weserv.nl/?url=${encodeURIComponent(url)}`

}

return url

}

return (

<div class="book-meta">

<h3>ğŸ“š ä¹¦ç±ä¿¡æ¯</h3>

<div class="book-main">

{/* å·¦ä¾§ï¼šå°é¢å›¾ç‰‡ */}

{fm.å°é¢ && typeof fm.å°é¢ === 'string' && (

<div class="book-picture">

<img

src={getImageUrl(fm.å°é¢)}

alt={(fm.title as string) || "ä¹¦ç±å°é¢"}

loading="lazy"

/>

</div>

)}

{/* å³ä¾§ï¼šä¹¦ç±ä¿¡æ¯ */}

<div class="book-content">

{/* åŸºæœ¬ä¿¡æ¯ */}

<div class="book-section">

{fm.title && (

<p><strong>ä¹¦åï¼š</strong>{String(fm.title)}</p>

)}

{fm.originalTitle && (

<p><strong>åŸæ ‡é¢˜ï¼š</strong>{String(fm.originalTitle)}</p>

)}

{/* è¯„åˆ†ä¿¡æ¯ */}

{(fm.scoreStar || fm.score) && (

<p className="rating-line">

<strong>è±†ç“£è¯„åˆ†ï¼š</strong>

{fm.scoreStar && <span className="stars">{fm.scoreStar}</span>}

&nbsp;&nbsp;

{fm.score && <span className="score">{fm.score}</span>}

</p>

)}

  

{fm.myRate && (

<p><strong>æˆ‘çš„è¯„åˆ†ï¼š</strong>{String(fm.myRate)}</p>

)}

{fm.author && (

<p><strong>ä½œè€…ï¼š</strong>{String(fm.author)}</p>

)}

{fm.publishDate && (

<p><strong>å‡ºç‰ˆï¼š</strong>{String(fm.publishDate)}</p>

)}

{fm.yearPublished && (

<p><strong>å‡ºç‰ˆå¹´ä»½ï¼š</strong>{String(fm.yearPublished)}</p>

)}

{fm.totalPage && (

<p><strong>æ€»é¡µæ•°ï¼š</strong>{String(fm.totalPage)}</p>

)}

</div>

{/* é˜…è¯»è¿›åº¦ */}

<div class="book-section">

{fm.é˜…è¯»çŠ¶æ€ && Array.isArray(fm.é˜…è¯»çŠ¶æ€) && fm.é˜…è¯»çŠ¶æ€.length > 0 && (

<p><strong>é˜…è¯»çŠ¶æ€ï¼š</strong>{fm.é˜…è¯»çŠ¶æ€.join(", ")}</p>

)}

{fm.currentPage && (

<p><strong>å½“å‰é¡µç ï¼š</strong>{String(fm.currentPage)}</p>

)}

{fm.é˜…è¯»è¿›åº¦ && (

<p><strong>é˜…è¯»è¿›åº¦ï¼š</strong>{String(fm.é˜…è¯»è¿›åº¦)}</p>

)}

{fm.æ·»åŠ æ—¶é—´ && (

<p><strong>æ·»åŠ æ—¶é—´ï¼š</strong>{String(fm.æ·»åŠ æ—¶é—´)}</p>

)}

{fm.å¼€å§‹é˜…è¯» && (

<p><strong>å¼€å§‹é˜…è¯»ï¼š</strong>{String(fm.å¼€å§‹é˜…è¯»)}</p>

)}

{fm.ç»“æŸé˜…è¯» && (

<p><strong>ç»“æŸé˜…è¯»ï¼š</strong>{String(fm.ç»“æŸé˜…è¯»)}</p>

)}

</div>

</div>

</div>

{/* ç®€ä»‹ - å•ç‹¬ä¸€è¡Œ,å¯å±•å¼€ */}

{fm.desc && (

<details class="book-description">

<summary><strong>ç®€ä»‹ï¼š</strong></summary>

<div class="desc-content">{String(fm.desc)}</div>

</details>

)}

</div>

)

}

  

BookInfo.displayName = "BookInfo"

  

export default (() => BookInfo) satisfies QuartzComponentConstructor
```
- å¯¼å‡ºç»„ä»¶
åœ¨ `quartz/components/index.ts`ä¸­
```ts
import ArticleTitle from "./ArticleTitle"
import Content from "./Content"
import TagList from "./TagList"
// ... å…¶ä»–å¯¼å…¥

import BookInfo from "./BookInfo"  // æ·»åŠ è¿™ä¸€è¡Œ

export default {
  ArticleTitle,
  Content,
  TagList,
  // ... å…¶ä»–ç»„ä»¶
  BookInfo,  // æ·»åŠ è¿™ä¸€è¡Œ
}
```
- æ³¨å†Œç»„ä»¶
åœ¨`quartz.layout.ts`ä¸­,æ·»åŠ æ–°å»ºçš„ç»„ä»¶
```ts
export const defaultContentPageLayout: PageLayout = {
  beforeBody: [
    Component.Breadcrumbs(),
    Component.ArticleTitle(),
    Component.BookInfo(),  // æ·»åŠ è¿™ä¸€è¡Œ
    Component.ContentMeta(),
    Component.TagList(),
  ],
  // ...
}
```
- æ·»åŠ æ ·å¼
 åœ¨`quartz/components/styles ä¸­åˆ†åˆ«æ–°å»ºbookInfo.scsså’ŒmovieInfo.scss
```scss
.book-meta {

background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);

border-radius: 12px;

padding: 15px;

// margin: 30px 0;

box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

h3 {

margin: 0 0 15px 0;

color: #2c3e50;

font-size: 1.5em;

border-bottom: 2px solid #3498db;

padding-bottom: 5px;

}

// ä¸»ä½“å¸ƒå±€ï¼šå›¾ç‰‡ + ä¿¡æ¯

.book-main {

display: flex;

gap: 20px;

margin-bottom: 15px;

align-items: flex-start; // é¡¶éƒ¨å¯¹é½

}

// å·¦ä¾§å°é¢

.book-picture {

flex-shrink: 1.2; // ä¸ç¼©å°

width: 120px;

img {

width: 120px;

height: 170px;

object-fit: cover;

border-radius: 8px;

box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);

display: block;

}

}

// å³ä¾§å†…å®¹åŒº

.book-content {

flex: 1;

min-width: 0; // å…è®¸æ”¶ç¼©

display: flex;

flex-direction: column;

// gap: 15px;

}

// æ¯ä¸ªä¿¡æ¯åŒºå—

.book-section {

p {

margin: 0;

color: #34495e;

line-height: 1.6;

font-size: 0.95em;

strong {

color: #2c3e50;

margin-right: 8px;

min-width: 80px;

display: inline-block;

}

}

}

// ç®€ä»‹ - ä½¿ç”¨ details/summary å®ç°å±•å¼€æ”¶èµ·

.book-description {

margin-top: 15px;

padding-top: 10px;

border-top: 1px solid #bdc3c7;

summary {

cursor: pointer;

user-select: none;

// padding: 8px 0;

color: #2c3e50;

font-weight: bold;

// list-style-position: outside;

&:hover {

color: #3498db;

}

&::marker {

content: 'â–¶ ';

}

}

&[open] summary::marker {

content: 'â–¼ ';

}

.desc-content {

// background: white;

// background: var(--lightgray);

background: #fffdf6;

padding: 15px;

border-radius: 6px;

line-height: 1.8;

color: #555;

font-size: 0.9em;

margin-top: 10px;

max-height: 300px; // é™åˆ¶æœ€å¤§é«˜åº¦

overflow-y: auto; // è¶…å‡ºæ˜¾ç¤ºæ»šåŠ¨æ¡

// ç¾åŒ–æ»šåŠ¨æ¡

&::-webkit-scrollbar {

width: 8px;

}

&::-webkit-scrollbar-track {

background: #f1f1f1;

border-radius: 4px;

}

&::-webkit-scrollbar-thumb {

background: #888;

border-radius: 4px;

&:hover {

background: #555;

}

}

}

}

// å“åº”å¼ï¼šå°å±å¹•ä¸‹æ”¹ä¸ºä¸Šä¸‹å¸ƒå±€

@media (max-width: 768px) {

.book-main {

flex-direction: column;

align-items: center;

}

.book-cover {

width: 150px;

img {

width: 150px;

height: 210px;

}

}

.book-content {

width: 100%;

}

}

}
```
- å¼•ç”¨æ ·å¼
 åœ¨`quartz/styles/custom.scss` ä¸­å¼•ç”¨
 ```scss 
@use "../components/styles/bookInfo.scss";
@use "../components/styles/movieInfo.scss";
 ```